/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/*!******************************!*\
  !*** ./resources/js/ajax.js ***!
  \******************************/
eval("/**\n * Add token on ajax request.\n */\n$.ajaxSetup({\n  headers: {\n    'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n  }\n});\n/**\n * Changes the user locale\n */\n\n$('.languageSet').click(function (e) {\n  console.log('Click button change locale');\n  e.preventDefault();\n  var select = document.getElementById(\"selectLanguage\");\n  var newLocale = select.value;\n  console.log('Change locale: ' + newLocale);\n  $.ajax({\n    type: 'POST',\n    url: \"/changeLocale\",\n    data: {\n      newLocale: newLocale\n    },\n    success: function success(result) {\n      var data = JSON.parse(result);\n      console.log('result=' + result);\n    },\n    error: function error(result) {\n      console.log('Ajax error!');\n      console.log('result=' + result);\n      str = JSON.stringify(result, null, 4); // beautiful indented output.\n\n      console.log(str);\n    }\n  });\n});\n/**\n * Request to the server to recalculate the prices of all products on the page.\n * Called when the currency is changed.\n */\n\n$('#selectCurrency').change(function (e) {\n  e.preventDefault();\n  var select = document.getElementById(\"selectCurrency\");\n  var currency = select.value;\n  console.log('Change currency: ' + currency);\n  $.ajax({\n    type: 'POST',\n    url: \"/ajaxGetPrices\",\n    data: {\n      currency: currency\n    },\n    success: function success(result) {\n      var data = JSON.parse(result);\n      console.log('result=' + result); // Get a list of products items on the Index page\n\n      var elements = document.getElementsByClassName(\"divPrice\");\n      var productList = [];\n\n      for (var i = 0; i < elements.length; i++) {\n        productList[i] = parseInt(elements[i].id.replace(/\\D/g, ''));\n      } //Change prices on the Index page\n\n\n      if (data.productPrices) {\n        for (var j = 0; j < data.productPrices.length; j++) {\n          flagProductIsListed = productList.indexOf(data.productPrices[j].id) != -1;\n\n          if (flagProductIsListed) {\n            document.getElementById('idPrice' + data.productPrices[j].id).textContent = data.productPrices[j].price;\n          }\n        }\n      } //Change prices on the Cart page\n\n\n      for (var k in data.pricesProductInCart) {\n        var divPrice = document.getElementById('idPrice' + k);\n\n        if (divPrice) {\n          divPrice.textContent = data.pricesProductInCart[k];\n        }\n\n        var idTdSum = document.getElementById('tdSum' + k);\n\n        if (idTdSum) {\n          idTdSum.textContent = data.sums[k]; //productPriceSum text (on the Cart page)\n        }\n      } //Change the Delivery costs on the Cart page\n\n\n      var deliveryCosts = document.getElementById('deliveryCosts');\n\n      if (deliveryCosts) {\n        deliveryCosts.textContent = data.deliveryCosts;\n      } //Change the Full price on the Cart page\n\n\n      var divFullPrice = document.getElementById('divFullPrice');\n\n      if (divFullPrice) {\n        divFullPrice.textContent = data.fullPrice;\n      } //Change currency name\n\n\n      $(\".divCurrencyName\").text(data.currencyLogo); //$(\"#divTest\").text(result);\n    },\n    error: function error(result) {\n      console.log('Ajax error!');\n      console.log('result=' + result);\n      str = JSON.stringify(result, null, 4); // beautiful indented output.\n\n      console.log(str);\n    }\n  });\n});\n/**\n * Change the category in the Index page header\n */\n\n$('#selectCategory').change(function (e) {\n  e.preventDefault();\n  var selectedCategory = document.getElementById(\"selectCategory\").value; //console.log('Change category: ' + selectedCategory);\n\n  window.location.href = '?category=' + selectedCategory;\n});\n/**\n * Increment/Decrement current quantity.\n */\n\n$('.buttonDecProduct, .buttonAddProduct').click(function (e) {\n  e.preventDefault();\n  nameProductId = $(this).attr('id');\n  productId = nameProductId.replace(/\\D/g, '');\n  console.log('productId=' + productId);\n\n  if (nameProductId.includes('idAddButton')) {\n    action = 'increment';\n    console.log('Click button Increment Product');\n  } else {\n    action = 'decrement';\n    console.log('Click button Decrement Product');\n  }\n\n  $.ajax({\n    type: 'POST',\n    url: \"/changeProductQuantity\",\n    data: {\n      productId: productId,\n      action: action\n    },\n    success: function success(result) {\n      var data = JSON.parse(result);\n      console.log('result=' + result);\n      setNewPricesOnPage(data);\n    },\n    error: function error(result) {\n      console.log('Ajax error!');\n      console.log('result=' + result);\n      str = JSON.stringify(result, null, 4); // beautiful indented output.\n\n      console.log(str);\n    }\n  });\n});\n/**\n * The function takes the price data, received from the server after changing the quantity of ordered goods and changes the old peices on the page to the new ones.\n * @param data\n */\n\nfunction setNewPricesOnPage(data) {\n  //Index page\n  var divCount = document.getElementById('divCount' + productId);\n\n  if (divCount) {\n    divCount.textContent = '(' + data.quantity + ' pieces)'; //Button text (index page)\n  } //Cart page\n\n\n  var tdQuantity = document.getElementById('tdQuantity' + productId);\n\n  if (tdQuantity) {\n    tdQuantity.textContent = data.quantity; //Quantity text (on the Cart page)\n\n    var idDecButton = document.getElementById('idDecButton' + productId);\n    var idTrProduct = document.getElementById('tr' + productId);\n\n    if (data.quantity > 0) {\n      idDecButton.classList.remove('disabled'); //Set \"Enable\" for the Decrement button\n\n      idTrProduct.classList.remove('td-draft'); //Set \"Disable\" for the Decrement button\n    } else {\n      idDecButton.classList.add('disabled'); //Set \"Disable\" for the Decrement button (on the Cart page)\n\n      idTrProduct.classList.add('td-draft'); //Highlight product with zero quantity (on the Cart page)\n    }\n\n    var idTdSum = document.getElementById('tdSum' + productId);\n    idTdSum.textContent = data.productPriceSum; //productPriceSum text (on the Cart page)\n\n    var divFullPrice = document.getElementById('divFullPrice');\n    divFullPrice.textContent = data.fullPrice; //productPriceSum text (on the Cart page)\n\n    if (data.fullPrice === data.deliveryCosts) {\n      var buttonSubmit = document.getElementById('buttonSubmit');\n      buttonSubmit.classList.add('disabled'); //Set \"Disable\" for the Submit button (on the Cart page)\n    }\n  }\n}\n/**\n * Navigation through the order panels in the shopping cart.\n */\n\n\n$('.buttonPartControl').click(function (e) {\n  e.preventDefault();\n  console.log('buttonPartControl'); //if user is on the Order page, go to the Cart page\n\n  if (window.location.pathname != '/cart') {\n    window.location.pathname = '/cart';\n  }\n\n  $(\"#part1\").slideToggle();\n  $(\"#part2\").slideToggle();\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvYWpheC5qcz8yNjBjIl0sIm5hbWVzIjpbIiQiLCJhamF4U2V0dXAiLCJoZWFkZXJzIiwiYXR0ciIsImNsaWNrIiwiZSIsImNvbnNvbGUiLCJsb2ciLCJwcmV2ZW50RGVmYXVsdCIsInNlbGVjdCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJuZXdMb2NhbGUiLCJ2YWx1ZSIsImFqYXgiLCJ0eXBlIiwidXJsIiwiZGF0YSIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJKU09OIiwicGFyc2UiLCJlcnJvciIsInN0ciIsInN0cmluZ2lmeSIsImNoYW5nZSIsImN1cnJlbmN5IiwiZWxlbWVudHMiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwicHJvZHVjdExpc3QiLCJpIiwibGVuZ3RoIiwicGFyc2VJbnQiLCJpZCIsInJlcGxhY2UiLCJwcm9kdWN0UHJpY2VzIiwiaiIsImZsYWdQcm9kdWN0SXNMaXN0ZWQiLCJpbmRleE9mIiwidGV4dENvbnRlbnQiLCJwcmljZSIsImsiLCJwcmljZXNQcm9kdWN0SW5DYXJ0IiwiZGl2UHJpY2UiLCJpZFRkU3VtIiwic3VtcyIsImRlbGl2ZXJ5Q29zdHMiLCJkaXZGdWxsUHJpY2UiLCJmdWxsUHJpY2UiLCJ0ZXh0IiwiY3VycmVuY3lMb2dvIiwic2VsZWN0ZWRDYXRlZ29yeSIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsIm5hbWVQcm9kdWN0SWQiLCJwcm9kdWN0SWQiLCJpbmNsdWRlcyIsImFjdGlvbiIsInNldE5ld1ByaWNlc09uUGFnZSIsImRpdkNvdW50IiwicXVhbnRpdHkiLCJ0ZFF1YW50aXR5IiwiaWREZWNCdXR0b24iLCJpZFRyUHJvZHVjdCIsImNsYXNzTGlzdCIsInJlbW92ZSIsImFkZCIsInByb2R1Y3RQcmljZVN1bSIsImJ1dHRvblN1Ym1pdCIsInBhdGhuYW1lIiwic2xpZGVUb2dnbGUiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBQSxDQUFD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QVIsQ0FBWSxtQkFBWixFQUZ1QyxDQUl2Qzs7QUFDQSxNQUFJNkMsTUFBTSxDQUFDQyxRQUFQLENBQWdCaUIsUUFBaEIsSUFBNEIsT0FBaEMsRUFBeUM7QUFDckNsQixJQUFBQSxNQUFNLENBQUNDLFFBQVAsQ0FBZ0JpQixRQUFoQixHQUEyQixPQUEzQjtBQUNIOztBQUVEdEUsRUFBQUEsQ0FBQyxDQUFDLFFBQUQsQ0FBRCxDQUFZdUUsV0FBWjtBQUNBdkUsRUFBQUEsQ0FBQyxDQUFDLFFBQUQsQ0FBRCxDQUFZdUUsV0FBWjtBQUNILENBWEQiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEFkZCB0b2tlbiBvbiBhamF4IHJlcXVlc3QuXG4gKi9cbiQuYWpheFNldHVwKHtcbiAgICBoZWFkZXJzOiB7XG4gICAgICAgICdYLUNTUkYtVE9LRU4nOiAkKCdtZXRhW25hbWU9XCJjc3JmLXRva2VuXCJdJykuYXR0cignY29udGVudCcpXG4gICAgfVxufSk7XG5cblxuLyoqXG4gKiBDaGFuZ2VzIHRoZSB1c2VyIGxvY2FsZVxuICovXG4kKCcubGFuZ3VhZ2VTZXQnKS5jbGljayhmdW5jdGlvbiAoZSkge1xuICAgIGNvbnNvbGUubG9nKCdDbGljayBidXR0b24gY2hhbmdlIGxvY2FsZScpO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIHZhciBzZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbGVjdExhbmd1YWdlXCIpO1xuICAgIHZhciBuZXdMb2NhbGUgPSBzZWxlY3QudmFsdWU7XG4gICAgY29uc29sZS5sb2coJ0NoYW5nZSBsb2NhbGU6ICcgKyBuZXdMb2NhbGUpO1xuXG4gICAgJC5hamF4KHtcbiAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICB1cmw6IFwiL2NoYW5nZUxvY2FsZVwiLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBuZXdMb2NhbGU6IG5ld0xvY2FsZVxuICAgICAgICB9LFxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UocmVzdWx0KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZXN1bHQ9JyArIHJlc3VsdCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yOiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQWpheCBlcnJvciEnKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZXN1bHQ9JytyZXN1bHQpO1xuXG4gICAgICAgICAgICBzdHIgPSBKU09OLnN0cmluZ2lmeShyZXN1bHQsIG51bGwsIDQpOyAvLyBiZWF1dGlmdWwgaW5kZW50ZWQgb3V0cHV0LlxuICAgICAgICAgICAgY29uc29sZS5sb2coc3RyKTtcbiAgICAgICAgfVxuICAgIH0pO1xufSk7XG5cblxuLyoqXG4gKiBSZXF1ZXN0IHRvIHRoZSBzZXJ2ZXIgdG8gcmVjYWxjdWxhdGUgdGhlIHByaWNlcyBvZiBhbGwgcHJvZHVjdHMgb24gdGhlIHBhZ2UuXG4gKiBDYWxsZWQgd2hlbiB0aGUgY3VycmVuY3kgaXMgY2hhbmdlZC5cbiAqL1xuJCgnI3NlbGVjdEN1cnJlbmN5JykuY2hhbmdlKGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgdmFyIHNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VsZWN0Q3VycmVuY3lcIik7XG4gICAgdmFyIGN1cnJlbmN5ID0gc2VsZWN0LnZhbHVlO1xuICAgIGNvbnNvbGUubG9nKCdDaGFuZ2UgY3VycmVuY3k6ICcgKyBjdXJyZW5jeSk7XG5cbiAgICAkLmFqYXgoe1xuICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgIHVybDogXCIvYWpheEdldFByaWNlc1wiLFxuICAgICAgICBkYXRhOiB7Y3VycmVuY3k6IGN1cnJlbmN5fSxcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKHJlc3VsdCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygncmVzdWx0PScgKyByZXN1bHQpO1xuXG4gICAgICAgICAgICAvLyBHZXQgYSBsaXN0IG9mIHByb2R1Y3RzIGl0ZW1zIG9uIHRoZSBJbmRleCBwYWdlXG4gICAgICAgICAgICB2YXIgZWxlbWVudHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiZGl2UHJpY2VcIik7XG4gICAgICAgICAgICB2YXIgcHJvZHVjdExpc3QgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwcm9kdWN0TGlzdFtpXSA9IHBhcnNlSW50KGVsZW1lbnRzW2ldLmlkLnJlcGxhY2UoL1xcRC9nLCAnJykpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL0NoYW5nZSBwcmljZXMgb24gdGhlIEluZGV4IHBhZ2VcbiAgICAgICAgICAgIGlmIChkYXRhLnByb2R1Y3RQcmljZXMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRhdGEucHJvZHVjdFByaWNlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBmbGFnUHJvZHVjdElzTGlzdGVkID0gcHJvZHVjdExpc3QuaW5kZXhPZihkYXRhLnByb2R1Y3RQcmljZXNbal0uaWQpICE9IC0xO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmxhZ1Byb2R1Y3RJc0xpc3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lkUHJpY2UnICsgZGF0YS5wcm9kdWN0UHJpY2VzW2pdLmlkKS50ZXh0Q29udGVudCA9IGRhdGEucHJvZHVjdFByaWNlc1tqXS5wcmljZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9DaGFuZ2UgcHJpY2VzIG9uIHRoZSBDYXJ0IHBhZ2VcbiAgICAgICAgICAgIGZvciAodmFyIGsgaW4gZGF0YS5wcmljZXNQcm9kdWN0SW5DYXJ0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGRpdlByaWNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lkUHJpY2UnICsgayk7XG4gICAgICAgICAgICAgICAgaWYgKGRpdlByaWNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpdlByaWNlLnRleHRDb250ZW50ID0gZGF0YS5wcmljZXNQcm9kdWN0SW5DYXJ0W2tdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgaWRUZFN1bSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZFN1bScgKyBrKTtcbiAgICAgICAgICAgICAgICBpZiAoaWRUZFN1bSkge1xuICAgICAgICAgICAgICAgICAgICBpZFRkU3VtLnRleHRDb250ZW50ID0gZGF0YS5zdW1zW2tdOyAvL3Byb2R1Y3RQcmljZVN1bSB0ZXh0IChvbiB0aGUgQ2FydCBwYWdlKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9DaGFuZ2UgdGhlIERlbGl2ZXJ5IGNvc3RzIG9uIHRoZSBDYXJ0IHBhZ2VcbiAgICAgICAgICAgIHZhciBkZWxpdmVyeUNvc3RzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlbGl2ZXJ5Q29zdHMnKTtcbiAgICAgICAgICAgIGlmIChkZWxpdmVyeUNvc3RzKSB7XG4gICAgICAgICAgICAgICAgZGVsaXZlcnlDb3N0cy50ZXh0Q29udGVudCA9IGRhdGEuZGVsaXZlcnlDb3N0cztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9DaGFuZ2UgdGhlIEZ1bGwgcHJpY2Ugb24gdGhlIENhcnQgcGFnZVxuICAgICAgICAgICAgdmFyIGRpdkZ1bGxQcmljZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXZGdWxsUHJpY2UnKTtcbiAgICAgICAgICAgIGlmIChkaXZGdWxsUHJpY2UpIHtcbiAgICAgICAgICAgICAgICBkaXZGdWxsUHJpY2UudGV4dENvbnRlbnQgPSBkYXRhLmZ1bGxQcmljZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9DaGFuZ2UgY3VycmVuY3kgbmFtZVxuICAgICAgICAgICAgJChcIi5kaXZDdXJyZW5jeU5hbWVcIikudGV4dChkYXRhLmN1cnJlbmN5TG9nbyk7XG5cbiAgICAgICAgICAgIC8vJChcIiNkaXZUZXN0XCIpLnRleHQocmVzdWx0KTtcblxuICAgICAgICB9LFxuICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0FqYXggZXJyb3IhJyk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygncmVzdWx0PScrcmVzdWx0KTtcblxuICAgICAgICAgICAgc3RyID0gSlNPTi5zdHJpbmdpZnkocmVzdWx0LCBudWxsLCA0KTsgLy8gYmVhdXRpZnVsIGluZGVudGVkIG91dHB1dC5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0cik7XG4gICAgICAgIH1cbiAgICB9KTtcbn0pO1xuXG5cbi8qKlxuICogQ2hhbmdlIHRoZSBjYXRlZ29yeSBpbiB0aGUgSW5kZXggcGFnZSBoZWFkZXJcbiAqL1xuJCgnI3NlbGVjdENhdGVnb3J5JykuY2hhbmdlKGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHZhciBzZWxlY3RlZENhdGVnb3J5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWxlY3RDYXRlZ29yeVwiKS52YWx1ZTtcbiAgICAvL2NvbnNvbGUubG9nKCdDaGFuZ2UgY2F0ZWdvcnk6ICcgKyBzZWxlY3RlZENhdGVnb3J5KTtcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICc/Y2F0ZWdvcnk9JyArIHNlbGVjdGVkQ2F0ZWdvcnk7XG59KTtcblxuXG4vKipcbiAqIEluY3JlbWVudC9EZWNyZW1lbnQgY3VycmVudCBxdWFudGl0eS5cbiAqL1xuJCgnLmJ1dHRvbkRlY1Byb2R1Y3QsIC5idXR0b25BZGRQcm9kdWN0JykuY2xpY2soZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBuYW1lUHJvZHVjdElkID0gJCh0aGlzKS5hdHRyKCdpZCcpO1xuICAgIHByb2R1Y3RJZCA9IG5hbWVQcm9kdWN0SWQucmVwbGFjZSgvXFxEL2csICcnKTtcbiAgICBjb25zb2xlLmxvZygncHJvZHVjdElkPScgKyBwcm9kdWN0SWQpO1xuXG4gICAgaWYgKG5hbWVQcm9kdWN0SWQuaW5jbHVkZXMoJ2lkQWRkQnV0dG9uJykpIHtcbiAgICAgICAgYWN0aW9uID0gJ2luY3JlbWVudCc7XG4gICAgICAgIGNvbnNvbGUubG9nKCdDbGljayBidXR0b24gSW5jcmVtZW50IFByb2R1Y3QnKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIGFjdGlvbiA9ICdkZWNyZW1lbnQnO1xuICAgICAgICBjb25zb2xlLmxvZygnQ2xpY2sgYnV0dG9uIERlY3JlbWVudCBQcm9kdWN0Jyk7XG4gICAgfVxuXG4gICAgJC5hamF4KHtcbiAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICB1cmw6IFwiL2NoYW5nZVByb2R1Y3RRdWFudGl0eVwiLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBwcm9kdWN0SWQ6IHByb2R1Y3RJZCxcbiAgICAgICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICB9LFxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UocmVzdWx0KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZXN1bHQ9JyArIHJlc3VsdCk7XG4gICAgICAgICAgICBzZXROZXdQcmljZXNPblBhZ2UoZGF0YSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yOiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQWpheCBlcnJvciEnKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZXN1bHQ9JytyZXN1bHQpO1xuXG4gICAgICAgICAgICBzdHIgPSBKU09OLnN0cmluZ2lmeShyZXN1bHQsIG51bGwsIDQpOyAvLyBiZWF1dGlmdWwgaW5kZW50ZWQgb3V0cHV0LlxuICAgICAgICAgICAgY29uc29sZS5sb2coc3RyKTtcbiAgICAgICAgfVxuICAgIH0pO1xufSk7XG5cblxuLyoqXG4gKiBUaGUgZnVuY3Rpb24gdGFrZXMgdGhlIHByaWNlIGRhdGEsIHJlY2VpdmVkIGZyb20gdGhlIHNlcnZlciBhZnRlciBjaGFuZ2luZyB0aGUgcXVhbnRpdHkgb2Ygb3JkZXJlZCBnb29kcyBhbmQgY2hhbmdlcyB0aGUgb2xkIHBlaWNlcyBvbiB0aGUgcGFnZSB0byB0aGUgbmV3IG9uZXMuXG4gKiBAcGFyYW0gZGF0YVxuICovXG5mdW5jdGlvbiBzZXROZXdQcmljZXNPblBhZ2UoZGF0YSkge1xuICAgIC8vSW5kZXggcGFnZVxuICAgIHZhciBkaXZDb3VudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXZDb3VudCcgKyBwcm9kdWN0SWQpO1xuICAgIGlmIChkaXZDb3VudCkge1xuICAgICAgICBkaXZDb3VudC50ZXh0Q29udGVudCA9ICcoJyArIGRhdGEucXVhbnRpdHkgKyAnIHBpZWNlcyknOyAvL0J1dHRvbiB0ZXh0IChpbmRleCBwYWdlKVxuICAgIH1cblxuICAgIC8vQ2FydCBwYWdlXG4gICAgdmFyIHRkUXVhbnRpdHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGRRdWFudGl0eScgKyBwcm9kdWN0SWQpO1xuICAgIGlmICh0ZFF1YW50aXR5KSB7XG4gICAgICAgIHRkUXVhbnRpdHkudGV4dENvbnRlbnQgPSBkYXRhLnF1YW50aXR5OyAvL1F1YW50aXR5IHRleHQgKG9uIHRoZSBDYXJ0IHBhZ2UpXG5cbiAgICAgICAgdmFyIGlkRGVjQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lkRGVjQnV0dG9uJyArIHByb2R1Y3RJZCk7XG4gICAgICAgIHZhciBpZFRyUHJvZHVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0cicgKyBwcm9kdWN0SWQpO1xuICAgICAgICBpZiAoZGF0YS5xdWFudGl0eSA+IDApIHtcbiAgICAgICAgICAgIGlkRGVjQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGVkJyk7IC8vU2V0IFwiRW5hYmxlXCIgZm9yIHRoZSBEZWNyZW1lbnQgYnV0dG9uXG4gICAgICAgICAgICBpZFRyUHJvZHVjdC5jbGFzc0xpc3QucmVtb3ZlKCd0ZC1kcmFmdCcpOyAvL1NldCBcIkRpc2FibGVcIiBmb3IgdGhlIERlY3JlbWVudCBidXR0b25cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlkRGVjQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJyk7IC8vU2V0IFwiRGlzYWJsZVwiIGZvciB0aGUgRGVjcmVtZW50IGJ1dHRvbiAob24gdGhlIENhcnQgcGFnZSlcbiAgICAgICAgICAgIGlkVHJQcm9kdWN0LmNsYXNzTGlzdC5hZGQoJ3RkLWRyYWZ0Jyk7IC8vSGlnaGxpZ2h0IHByb2R1Y3Qgd2l0aCB6ZXJvIHF1YW50aXR5IChvbiB0aGUgQ2FydCBwYWdlKVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGlkVGRTdW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGRTdW0nICsgcHJvZHVjdElkKTtcbiAgICAgICAgaWRUZFN1bS50ZXh0Q29udGVudCA9IGRhdGEucHJvZHVjdFByaWNlU3VtOyAvL3Byb2R1Y3RQcmljZVN1bSB0ZXh0IChvbiB0aGUgQ2FydCBwYWdlKVxuXG4gICAgICAgIHZhciBkaXZGdWxsUHJpY2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGl2RnVsbFByaWNlJyk7XG4gICAgICAgIGRpdkZ1bGxQcmljZS50ZXh0Q29udGVudCA9IGRhdGEuZnVsbFByaWNlOyAvL3Byb2R1Y3RQcmljZVN1bSB0ZXh0IChvbiB0aGUgQ2FydCBwYWdlKVxuXG4gICAgICAgIGlmIChkYXRhLmZ1bGxQcmljZSA9PT0gZGF0YS5kZWxpdmVyeUNvc3RzKSB7XG4gICAgICAgICAgICB2YXIgYnV0dG9uU3VibWl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1dHRvblN1Ym1pdCcpO1xuICAgICAgICAgICAgYnV0dG9uU3VibWl0LmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJyk7IC8vU2V0IFwiRGlzYWJsZVwiIGZvciB0aGUgU3VibWl0IGJ1dHRvbiAob24gdGhlIENhcnQgcGFnZSlcbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG4vKipcbiAqIE5hdmlnYXRpb24gdGhyb3VnaCB0aGUgb3JkZXIgcGFuZWxzIGluIHRoZSBzaG9wcGluZyBjYXJ0LlxuICovXG4kKCcuYnV0dG9uUGFydENvbnRyb2wnKS5jbGljayhmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zb2xlLmxvZygnYnV0dG9uUGFydENvbnRyb2wnKTtcblxuICAgIC8vaWYgdXNlciBpcyBvbiB0aGUgT3JkZXIgcGFnZSwgZ28gdG8gdGhlIENhcnQgcGFnZVxuICAgIGlmICh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgIT0gJy9jYXJ0Jykge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgPSAnL2NhcnQnO1xuICAgIH1cblxuICAgICQoXCIjcGFydDFcIikuc2xpZGVUb2dnbGUoKTtcbiAgICAkKFwiI3BhcnQyXCIpLnNsaWRlVG9nZ2xlKCk7XG59KTtcblxuXG4iXSwiZmlsZSI6Ii4vcmVzb3VyY2VzL2pzL2FqYXguanMuanMiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./resources/js/ajax.js\n");
/******/ })()
;